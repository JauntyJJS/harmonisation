<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Utility functions for project • harmonisation</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Utility functions for project">
<meta name="description" content="Utility functions to harmonise data for project.">
<meta property="og:description" content="Utility functions to harmonise data for project.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">harmonisation</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9999</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/JauntyJJS/harmonisation/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="data-harmonisation-project-template">Data Harmonisation Project Template<a class="anchor" aria-label="anchor" href="#data-harmonisation-project-template"></a>
</h1></div>
<p>This repository is a project template to create data harmonisation reports using <a href="https://www.r-project.org/" class="external-link">R</a> and <a href="https://quarto.org/" class="external-link">Quarto</a> books. To learn more about Quarto books visit <a href="https://quarto.org/docs/books" class="external-link uri">https://quarto.org/docs/books</a>.</p>
<p><a name="top"></a></p>
<div class="section level2">
<h2 id="table-of-content">Table of Content<a class="anchor" aria-label="anchor" href="#table-of-content"></a>
</h2>
<ul>
<li><a href="#acknowledgement">Acknowledgement</a></li>
<li><a href="#file-structure">File Structure</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="acknowledgement">Acknowledgement<a class="anchor" aria-label="anchor" href="#acknowledgement"></a>
</h2>
<p>Layout of this page is inspired from R package <a href="https://frbcesab.github.io/rcompendium" class="external-link"><code>rcompendium</code></a>.</p>
<p><a href="#top">Back to top</a></p>
</div>
<div class="section level2">
<h2 id="file-structure">File Structure<a class="anchor" aria-label="anchor" href="#file-structure"></a>
</h2>
<p>Here is the file structure of this project.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>harmonisation_template<span class="sc">/</span>                   <span class="co"># Root of the compendium</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>│</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>├── harmonisation_template.Rproj          <span class="co"># RStudio project file</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="sc">|</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>├── .quarto<span class="sc">/</span>                              <span class="co"># Intermediate files/folders generated </span></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="er">|</span>                                         <span class="co"># Quarto renders to the documents.</span></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="er">|</span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>├── archive<span class="sc">/</span>                              <span class="co"># Folder to keep previous books and harmonised data</span></span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>│   ├── reports<span class="sc">/</span>                          <span class="co"># Folder containing previous documentation </span></span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a><span class="er">|</span>   <span class="er">|</span>                                     <span class="co"># of data harmonisation </span></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a><span class="er">|</span>   └── harmonised<span class="sc">/</span>                       <span class="co"># Folder containing previous GPS-CAD harmonised data</span></span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a><span class="er">|</span>  </span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a>├── reports<span class="sc">/</span>                              <span class="co"># Documentation of data harmonisation </span></span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a>│  </span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a>├── data<span class="sc">-</span>raw<span class="sc">/</span>                             <span class="co"># Cohort raw data (.csv, .gpkg, etc.)</span></span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a>│   ├── {cohort name}<span class="sc">/</span>                    <span class="co"># Folder containing cohort raw data,</span></span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a><span class="er">|</span>   <span class="er">|</span>                                     <span class="co"># and data dictionary </span></span>
<span id="cb1-18"><a href="#cb1-18" tabindex="-1"></a><span class="er">|</span>   └── data<span class="sc">-</span>dictionary<span class="sc">/</span>                  <span class="co"># Data dictionary for harmonised data</span></span>
<span id="cb1-19"><a href="#cb1-19" tabindex="-1"></a><span class="er">|</span>   └── data<span class="sc">-</span>input<span class="sc">/</span>                       <span class="co"># Data input file from collaborators</span></span>
<span id="cb1-20"><a href="#cb1-20" tabindex="-1"></a><span class="er">|</span>  </span>
<span id="cb1-21"><a href="#cb1-21" tabindex="-1"></a>├── docs<span class="sc">/</span>                                 <span class="co"># R functions documentation generating using</span></span>
<span id="cb1-22"><a href="#cb1-22" tabindex="-1"></a><span class="er">|</span>                                         <span class="co"># pkgdown:::build_site_external()</span></span>
<span id="cb1-23"><a href="#cb1-23" tabindex="-1"></a><span class="er">|</span>  </span>
<span id="cb1-24"><a href="#cb1-24" tabindex="-1"></a>├── inst<span class="sc">/</span>                                 <span class="co"># Arbitrary additional files to include in the</span></span>
<span id="cb1-25"><a href="#cb1-25" tabindex="-1"></a><span class="er">|</span>   <span class="er">|</span>                                     <span class="co"># package.</span></span>
<span id="cb1-26"><a href="#cb1-26" tabindex="-1"></a><span class="er">|</span>   <span class="er">|</span>  </span>
<span id="cb1-27"><a href="#cb1-27" tabindex="-1"></a><span class="er">|</span>   └── WORDLIST                          <span class="co"># File generating by spelling::update_wordlist()</span></span>
<span id="cb1-28"><a href="#cb1-28" tabindex="-1"></a><span class="sc">|</span>  </span>
<span id="cb1-29"><a href="#cb1-29" tabindex="-1"></a>├── man<span class="sc">/</span>                                  <span class="co"># R functions helps (automatically updated)</span></span>
<span id="cb1-30"><a href="#cb1-30" tabindex="-1"></a>│   ├── {fun<span class="sc">-</span>demo}.Rd                     <span class="co"># Documentation of the demo R function</span></span>
<span id="cb1-31"><a href="#cb1-31" tabindex="-1"></a>│   └── harmonisation<span class="sc">-</span>template.Rd         <span class="co"># High-level documentation</span></span>
<span id="cb1-32"><a href="#cb1-32" tabindex="-1"></a><span class="sc">|</span>  </span>
<span id="cb1-33"><a href="#cb1-33" tabindex="-1"></a>├── quarto<span class="sc">-</span>yaml<span class="sc">-</span>template<span class="sc">/</span>                 <span class="co"># Folder containing template files for quarto book generation</span></span>
<span id="cb1-34"><a href="#cb1-34" tabindex="-1"></a>│   ├── _quarto_{cohort name}.yml         <span class="co"># Quarto book generation for each cohort</span></span>
<span id="cb1-35"><a href="#cb1-35" tabindex="-1"></a>│   └── _quarto_all.yml                   <span class="co"># Quarto book generation for all cohorts</span></span>
<span id="cb1-36"><a href="#cb1-36" tabindex="-1"></a><span class="sc">|</span>  </span>
<span id="cb1-37"><a href="#cb1-37" tabindex="-1"></a>├── R<span class="sc">/</span>                                    <span class="co"># R functions location</span></span>
<span id="cb1-38"><a href="#cb1-38" tabindex="-1"></a>│   ├── {fun<span class="sc">-</span>demo}.R                      <span class="co"># Example of an R function</span></span>
<span id="cb1-39"><a href="#cb1-39" tabindex="-1"></a>│   └── harmonisation<span class="sc">-</span>template<span class="sc">-</span>package.R  <span class="co"># Dummy R file for high-level documentation</span></span>
<span id="cb1-40"><a href="#cb1-40" tabindex="-1"></a>│  </span>
<span id="cb1-41"><a href="#cb1-41" tabindex="-1"></a>├── renv<span class="sc">/</span>                                 <span class="co"># Folder that contains all packages </span></span>
<span id="cb1-42"><a href="#cb1-42" tabindex="-1"></a><span class="er">|</span>                                         <span class="co"># installed in the renv environment.</span></span>
<span id="cb1-43"><a href="#cb1-43" tabindex="-1"></a><span class="er">|</span>        </span>
<span id="cb1-44"><a href="#cb1-44" tabindex="-1"></a>├── codes<span class="sc">/</span>                                <span class="co"># R/Quarto scripts to run data harmonisation</span></span>
<span id="cb1-45"><a href="#cb1-45" tabindex="-1"></a><span class="er">|</span>   ├── quarto_script.R                   <span class="co"># R script to render each {cohort name}_Cleaning/ folder. </span></span>
<span id="cb1-46"><a href="#cb1-46" tabindex="-1"></a><span class="sc">|</span>   <span class="er">|</span>                                     <span class="co"># folder into html, pdf and word document.</span></span>
<span id="cb1-47"><a href="#cb1-47" tabindex="-1"></a>│   ├── {cohort name}_Cleaning<span class="sc">/</span>           <span class="co"># Quarto scripts to run data harmonisation</span></span>
<span id="cb1-48"><a href="#cb1-48" tabindex="-1"></a><span class="er">|</span>   <span class="er">|</span>                                     <span class="co"># and output them for each cohort.</span></span>
<span id="cb1-49"><a href="#cb1-49" tabindex="-1"></a><span class="er">|</span>   └── Combine<span class="sc">/</span>                          <span class="co"># Quarto scripts to filter harmonised data</span></span>
<span id="cb1-50"><a href="#cb1-50" tabindex="-1"></a><span class="er">|</span>                                         <span class="co"># based on inclusion/exclusion criteria, </span></span>
<span id="cb1-51"><a href="#cb1-51" tabindex="-1"></a><span class="er">|</span>   <span class="er">|</span>                                     <span class="co"># combined the filtered data for preliminary analysis.</span></span>
<span id="cb1-52"><a href="#cb1-52" tabindex="-1"></a><span class="er">|</span>        </span>
<span id="cb1-53"><a href="#cb1-53" tabindex="-1"></a>├── tests<span class="sc">/</span>                                <span class="co"># Test units file created by R package testhat</span></span>
<span id="cb1-54"><a href="#cb1-54" tabindex="-1"></a>│        </span>
<span id="cb1-55"><a href="#cb1-55" tabindex="-1"></a>├── .lintr                                <span class="co"># Configuration for linting</span></span>
<span id="cb1-56"><a href="#cb1-56" tabindex="-1"></a><span class="sc">|</span>                                         <span class="co"># R projects and packages using linter</span></span>
<span id="cb1-57"><a href="#cb1-57" tabindex="-1"></a><span class="er">|</span>        </span>
<span id="cb1-58"><a href="#cb1-58" tabindex="-1"></a>├── .Rbuildignore                         <span class="co"># List of files/folders to be ignored while </span></span>
<span id="cb1-59"><a href="#cb1-59" tabindex="-1"></a>│                                         <span class="co"># checking/installing the package</span></span>
<span id="cb1-60"><a href="#cb1-60" tabindex="-1"></a><span class="sc">|</span>        </span>
<span id="cb1-61"><a href="#cb1-61" tabindex="-1"></a>├── .renvignore                           <span class="co"># List of files/folders to be ignored when </span></span>
<span id="cb1-62"><a href="#cb1-62" tabindex="-1"></a>│                                         <span class="co"># renv is doing its snapshot</span></span>
<span id="cb1-63"><a href="#cb1-63" tabindex="-1"></a><span class="sc">|</span>        </span>
<span id="cb1-64"><a href="#cb1-64" tabindex="-1"></a>├── _pkgdown.yml                          <span class="co"># Configuration for R package documentation</span></span>
<span id="cb1-65"><a href="#cb1-65" tabindex="-1"></a><span class="sc">|</span>                                         <span class="co"># using pkgdown:::build_site_external()</span></span>
<span id="cb1-66"><a href="#cb1-66" tabindex="-1"></a><span class="er">|</span>        </span>
<span id="cb1-67"><a href="#cb1-67" tabindex="-1"></a>├── _quarto.yml                           <span class="co"># Configuration for Quarto book generation</span></span>
<span id="cb1-68"><a href="#cb1-68" tabindex="-1"></a><span class="sc">|</span>                                         <span class="co"># Also the project configuration file</span></span>
<span id="cb1-69"><a href="#cb1-69" tabindex="-1"></a><span class="er">|</span>        </span>
<span id="cb1-70"><a href="#cb1-70" tabindex="-1"></a>├── custom<span class="sc">-</span>reference.docx                 <span class="co"># Microsoft word template for data harmonisation </span></span>
<span id="cb1-71"><a href="#cb1-71" tabindex="-1"></a><span class="sc">|</span>                                         <span class="co"># documentation to Word</span></span>
<span id="cb1-72"><a href="#cb1-72" tabindex="-1"></a><span class="er">|</span>        </span>
<span id="cb1-73"><a href="#cb1-73" tabindex="-1"></a>├── DESCRIPTION                           <span class="co"># Project metadata[*]</span></span>
<span id="cb1-74"><a href="#cb1-74" tabindex="-1"></a><span class="sc">|</span>        </span>
<span id="cb1-75"><a href="#cb1-75" tabindex="-1"></a>├── index.qmd                             <span class="co"># Home page of Quarto book content</span></span>
<span id="cb1-76"><a href="#cb1-76" tabindex="-1"></a><span class="sc">|</span>        </span>
<span id="cb1-77"><a href="#cb1-77" tabindex="-1"></a>├── LICENSE                               <span class="co"># Content of the MIT license generated via</span></span>
<span id="cb1-78"><a href="#cb1-78" tabindex="-1"></a><span class="sc">|</span>                                         <span class="co"># usethis::use_mit_license()</span></span>
<span id="cb1-79"><a href="#cb1-79" tabindex="-1"></a>├── LICENSE.md                            <span class="co"># Content of the MIT license generated via</span></span>
<span id="cb1-80"><a href="#cb1-80" tabindex="-1"></a><span class="sc">|</span>                                         <span class="co"># usethis::use_mit_license()</span></span>
<span id="cb1-81"><a href="#cb1-81" tabindex="-1"></a><span class="er">|</span>        </span>
<span id="cb1-82"><a href="#cb1-82" tabindex="-1"></a>├── NAMESPACE                             <span class="co"># Automatically generated</span></span>
<span id="cb1-83"><a href="#cb1-83" tabindex="-1"></a>│        </span>
<span id="cb1-84"><a href="#cb1-84" tabindex="-1"></a>├── README.md                             <span class="co"># GitHub README (automatically generated)</span></span>
<span id="cb1-85"><a href="#cb1-85" tabindex="-1"></a>├── README.Rmd                            <span class="co"># GitHub README (ignore for now)</span></span>
<span id="cb1-86"><a href="#cb1-86" tabindex="-1"></a>│      </span>
<span id="cb1-87"><a href="#cb1-87" tabindex="-1"></a><span class="sc">|</span>      </span>
<span id="cb1-88"><a href="#cb1-88" tabindex="-1"></a>├── references.bib                        <span class="co"># Bibtex file for Quarto book </span></span>
<span id="cb1-89"><a href="#cb1-89" tabindex="-1"></a><span class="sc">|</span>      </span>
<span id="cb1-90"><a href="#cb1-90" tabindex="-1"></a>├── references.qmd                        <span class="co"># Reference document for Quarto book</span></span>
<span id="cb1-91"><a href="#cb1-91" tabindex="-1"></a><span class="sc">|</span>      </span>
<span id="cb1-92"><a href="#cb1-92" tabindex="-1"></a>├── renv.lock                             <span class="co"># Metadata of R packages installed generated</span></span>
<span id="cb1-93"><a href="#cb1-93" tabindex="-1"></a><span class="sc">|</span>                                         <span class="co"># using renv::snapshot</span></span>
<span id="cb1-94"><a href="#cb1-94" tabindex="-1"></a><span class="er">|</span>      </span>
<span id="cb1-95"><a href="#cb1-95" tabindex="-1"></a>├── csl_file.csl                          <span class="co"># Citation Style Language (CSL) file to ensure</span></span>
<span id="cb1-96"><a href="#cb1-96" tabindex="-1"></a><span class="sc">|</span>                                         <span class="co"># citations follows the Lancet journal</span></span>
<span id="cb1-97"><a href="#cb1-97" tabindex="-1"></a></span>
<span id="cb1-98"><a href="#cb1-98" tabindex="-1"></a></span>
<span id="cb1-99"><a href="#cb1-99" tabindex="-1"></a>[<span class="sc">*</span>] These files are automatically created but user needs to manually add some information.</span></code></pre></div>
<p><a href="#top">Back to top</a></p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="section level3">
<h3 id="installing-r">Installing R<a class="anchor" aria-label="anchor" href="#installing-r"></a>
</h3>
<p>Go to <a href="https://cran.rstudio.com/" class="external-link uri">https://cran.rstudio.com/</a>. Choose a version of R that matches the computer’s operating system.</p>
</div>
<div class="section level3">
<h3 id="installing-rstudio">Installing RStudio<a class="anchor" aria-label="anchor" href="#installing-rstudio"></a>
</h3>
<p>Go to <a href="https://posit.co/download/rstudio-desktop/" class="external-link uri">https://posit.co/download/rstudio-desktop/</a>. Scroll down and choose a version of RStudio that matches the computer’s operating system.</p>
</div>
<div class="section level3">
<h3 id="installing-rtools">Installing Rtools<a class="anchor" aria-label="anchor" href="#installing-rtools"></a>
</h3>
<p>Go to <a href="https://cran.r-project.org/bin/windows/Rtools/" class="external-link uri">https://cran.r-project.org/bin/windows/Rtools/</a>. Choose a version of Rtools that matches the R version that was installed.</p>
</div>
<div class="section level3">
<h3 id="quarto">Quarto<a class="anchor" aria-label="anchor" href="#quarto"></a>
</h3>
<p>Quarto converts R scripts into a technical report or notebook in html, pdf, Microsoft Word, <a href="https://quarto.org/docs/output-formats/all-formats.html" class="external-link">etc.</a> It is installed together with RStudio. User can also go to <a href="https://quarto.org/docs/get-started/" class="external-link uri">https://quarto.org/docs/get-started/</a> to install it separately. For Quarto to be able to create pdf files, a <a href="https://quarto.org/docs/output-formats/pdf-engine.html" class="external-link">pdf engine</a> must be installed as well. For ease, it is suggested to install <a href="https://yihui.org/tinytex/" class="external-link">TinyTex</a> using the terminal command <code>quarto install tinytex</code>.</p>
</div>
</div>
<div class="section level2">
<h2 id="r-package-installation">R Package Installation<a class="anchor" aria-label="anchor" href="#r-package-installation"></a>
</h2>
<p>Use Posit Public Package Manager <a href="https://packagemanager.posit.co/client" class="external-link">PPM</a> to set up your repository environment to install R packages from <a href="https://cloud.r-project.org/" class="external-link">CRAN</a>. This is because PPM allows installation of frozen R package versions based on a snapshot date.</p>
<p>One way to do that is to set in the <code>.Rprofile</code> file with the code <code>options(repos = c(P3M = "{link to repository url form Posit Public Package Manager}"))</code></p>
<p>R packages can be installed using the package <a href="https://pak.r-lib.org/" class="external-link"><code>pak</code></a> as an alternative to <a href="https://rdrr.io/r/utils/install.packages.html" class="external-link"><code>install.packages()</code></a> and <a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link"><code>remotes::install_github()</code></a>. Benefits of using <a href="https://pak.r-lib.org/" class="external-link"><code>pak</code></a> can be found <a href="https://pak.r-lib.org/reference/features.html" class="external-link">here</a></p>
<p>You can also view your respository environment using the command <a href="https://pak.r-lib.org/reference/repo_get.html" class="external-link"><code>pak::repo_get()</code></a></p>
<p>R package can be loaded using the command <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library({package_name})</a></code>. You can use the R package <a href="https://annotater.liomys.mx/" class="external-link"><code>annotater</code></a> to add additional information on what the loaded package does.</p>
<p><a href="#top">Back to top</a></p>
</div>
<div class="section level2">
<h2 id="using-renv">Using <code>renv</code>
<a class="anchor" aria-label="anchor" href="#using-renv"></a>
</h2>
<p>You can increase reproducibility by using the package <a href="https://rstudio.github.io/renv/" class="external-link"><code>renv</code></a>. Install <code>renv</code> from CRAN with <code>pak::pak("renv")</code>. If this is your first time using <code>renv</code>, start with the <a href="https://rstudio.github.io/renv/articles/renv.html" class="external-link"><code>Introduction to renv vignette</code></a>. Use <code>renv::init(bare = TRUE)</code> to start with an empty <code>renv</code> environment.</p>
<p><code>renv</code> will freeze the exact package versions you depend on (in <code>renv.lock</code>). This ensures that each collaborator (or you in the future) will use the exact same versions of these packages. Moreover <code>renv</code> provides to each project its own private package library making each project isolated from others.</p>
<p>Install required dependencies locally with <code><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages()</a></code> or <a href="https://rstudio.github.io/renv/reference/install.html" class="external-link"><code>renv::install()</code></a> from CRAN, Bioconductor, Github, explicit file path, etc.</p>
<p>Sometimes the right <a href="https://community.rstudio.com/t/can-not-install-packages-after-initializing-renv/106064" class="external-link">downloader</a> (libcurl or others) needs to set for installation of R packages inside the <code>renv</code> environment to be successful. Setting the R environmental variable RENV_DOWNLOAD_FILE_METHOD = “libcurl” may help.</p>
<p>Save the local environment with <a href="https://rstudio.github.io/renv/reference/snapshot.html" class="external-link"><code>renv::snapshot()</code></a> to create the <code>renv.lock</code> file.</p>
<p><a href="#top">Back to top</a></p>
</div>
<div class="section level2">
<h2 id="r-functions-management">R Functions Management<a class="anchor" aria-label="anchor" href="#r-functions-management"></a>
</h2>
<p>R functions heavily used in this project can be found in the <code>R</code> folder. Documentation (<code>man</code> folder), test units (<code>test</code> folder) corresponding to these functions are structured the same as creating an R package. Relevant R packages required for R package development (and available on Posit Public Package Manager <a href="https://packagemanager.posit.co/client" class="external-link">PPM</a>) are</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://usethis.r-lib.org" class="external-link">"usethis"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://devtools.r-lib.org/" class="external-link">"devtools"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://roxygen2.r-lib.org/" class="external-link">"roxygen2"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://testthat.r-lib.org" class="external-link">"testthat"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://covr.r-lib.org" class="external-link">"covr"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://ropensci.r-universe.dev/spelling" class="external-link">"spelling"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://lintr.r-lib.org" class="external-link">"lintr"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/yonicd/sinew" class="external-link">"sinew"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://pkgdown.r-lib.org/" class="external-link">"pkgdown"</a></span><span class="op">)</span></span></code></pre></div>
<p>Here is an example of the command to use <code>pak::pak("{package name}")</code> to install packages from <a href="https://packagemanager.posit.co/client" class="external-link">PPM</a>.</p>
<p>There is no need to source the functions in the R folder. Use <a href="https://devtools.r-lib.org/reference/load_all.html" class="external-link"><code>devtools::load_all()</code></a> instead. <a href="https://devtools.r-lib.org/reference/load_all.html" class="external-link"><code>devtools::load_all()</code></a> will load required dependencies listed in <code>DESCRIPTION</code> and R functions stored in <code>R/</code>. Prior installation of these dependencies is required for the load to be successful.</p>
<p>After loading, R functions can be documented (using <a href="https://devtools.r-lib.org/reference/document.html" class="external-link"><code>devtools::document()</code></a>), tested (using <a href="https://devtools.r-lib.org/reference/test.html" class="external-link"><code>devtools::test()</code></a> and then <a href="https://devtools.r-lib.org/reference/check.html" class="external-link"><code>devtools::check()</code></a>) and even installed as an R package (using <a href="https://devtools.r-lib.org/reference/install.html" class="external-link"><code>devtools::install</code></a>).</p>
<p>More information of this workflow can be found in <a href="https://r-pkgs.org/whole-game.html" class="external-link">Chapter 1: The Whole Game</a> of the R Packages (2e) book.</p>
</div>
<div class="section level2">
<h2 id="r-packages">R Packages<a class="anchor" aria-label="anchor" href="#r-packages"></a>
</h2>
<p>R packages installed from Posit Public Package Manager <a href="https://packagemanager.posit.co/client" class="external-link">PPM</a> using command <code>pak::pak("{package name}")</code> are</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://rstudio.github.io/renv/" class="external-link">"renv"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/r-lib/sessioninfo#readme" class="external-link">"sessioninfo"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://yihui.org/knitr/" class="external-link">"knitr"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/rstudio/rmarkdown" class="external-link">"rmarkdown"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/quarto-dev/quarto-r" class="external-link">"quarto"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://rlang.r-lib.org" class="external-link">"rlang"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://cli.r-lib.org" class="external-link">"cli"</a></span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://fs.r-lib.org" class="external-link">"fs"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://here.r-lib.org/" class="external-link">"here"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="http://www.fstpackage.org" class="external-link">"fst"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://readxl.tidyverse.org" class="external-link">"readxl"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://vroom.r-lib.org" class="external-link">"vroom"</a></span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://dplyr.tidyverse.org" class="external-link">"dplyr"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://tidyr.tidyverse.org" class="external-link">"tidyr"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://magrittr.tidyverse.org" class="external-link">"magrittr"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://stringr.tidyverse.org" class="external-link">"stringr"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://forcats.tidyverse.org/" class="external-link">"forcats"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://purrr.tidyverse.org/" class="external-link">"purrr"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://tibble.tidyverse.org/" class="external-link">"tibble"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://glue.tidyverse.org/" class="external-link">"glue"</a></span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://collateral.jamesgoldie.dev" class="external-link">"collateral"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://rstudio.github.io/pointblank/" class="external-link">"pointblank"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://testthat.r-lib.org" class="external-link">"testthat"</a></span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/rstudio/htmltools" class="external-link">"htmltools"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/ramnathv/htmlwidgets" class="external-link">"htmlwidgets"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/rstudio/fontawesome" class="external-link">"fontawesome"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://glin.github.io/reactable/" class="external-link">"reactable"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://ardata-fr.github.io/flextable-book/" class="external-link">"flextable"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://ftextra.atusy.net" class="external-link">"ftExtra"</a></span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://ycphs.github.io/openxlsx/index.html" class="external-link">"openxlsx"</a></span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/JauntyJJS/harmonisation" class="external-link">"harmonisation"</a></span><span class="op">)</span></span></code></pre></div>
<p>Here are all the R packages used in this analysis.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">harmonisation</span><span class="fu">::</span><span class="fu"><a href="reference/get_r_package_info.html">get_r_package_info</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">package</th>
<th align="left">version</th>
<th align="left">date</th>
<th align="left">source</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">cli</td>
<td align="left">3.6.4</td>
<td align="left">2025-02-13</td>
<td align="left">RSPM</td>
</tr>
<tr class="even">
<td align="left">collateral</td>
<td align="left">0.5.2</td>
<td align="left">2021-10-25</td>
<td align="left">RSPM</td>
</tr>
<tr class="odd">
<td align="left">covr</td>
<td align="left">3.6.4</td>
<td align="left">2023-11-09</td>
<td align="left">RSPM</td>
</tr>
<tr class="even">
<td align="left">devtools</td>
<td align="left">2.4.5</td>
<td align="left">2022-10-11</td>
<td align="left">RSPM</td>
</tr>
<tr class="odd">
<td align="left">dplyr</td>
<td align="left">1.1.4</td>
<td align="left">2023-11-17</td>
<td align="left">RSPM</td>
</tr>
<tr class="even">
<td align="left">flextable</td>
<td align="left">0.9.7</td>
<td align="left">2024-10-27</td>
<td align="left">RSPM</td>
</tr>
<tr class="odd">
<td align="left">fontawesome</td>
<td align="left">0.5.3</td>
<td align="left">2024-11-16</td>
<td align="left">RSPM</td>
</tr>
<tr class="even">
<td align="left">forcats</td>
<td align="left">1.0.0</td>
<td align="left">2023-01-29</td>
<td align="left">RSPM</td>
</tr>
<tr class="odd">
<td align="left">fs</td>
<td align="left">1.6.5</td>
<td align="left">2024-10-30</td>
<td align="left">RSPM</td>
</tr>
<tr class="even">
<td align="left">fst</td>
<td align="left">0.9.8</td>
<td align="left">2022-02-08</td>
<td align="left">RSPM</td>
</tr>
<tr class="odd">
<td align="left">ftExtra</td>
<td align="left">0.6.4</td>
<td align="left">2024-05-10</td>
<td align="left">RSPM</td>
</tr>
<tr class="even">
<td align="left">glue</td>
<td align="left">1.8.0</td>
<td align="left">2024-09-30</td>
<td align="left">RSPM</td>
</tr>
<tr class="odd">
<td align="left">harmonisation</td>
<td align="left">0.0.0.9999</td>
<td align="left">2025-03-09</td>
<td align="left">local</td>
</tr>
<tr class="even">
<td align="left">here</td>
<td align="left">1.0.1</td>
<td align="left">2020-12-13</td>
<td align="left">RSPM</td>
</tr>
<tr class="odd">
<td align="left">htmltools</td>
<td align="left">0.5.8.1</td>
<td align="left">2024-04-04</td>
<td align="left">RSPM</td>
</tr>
<tr class="even">
<td align="left">htmlwidgets</td>
<td align="left">1.6.4</td>
<td align="left">2023-12-06</td>
<td align="left">RSPM</td>
</tr>
<tr class="odd">
<td align="left">knitr</td>
<td align="left">1.49</td>
<td align="left">2024-11-08</td>
<td align="left">RSPM</td>
</tr>
<tr class="even">
<td align="left">lintr</td>
<td align="left">3.2.0</td>
<td align="left">2025-02-12</td>
<td align="left">RSPM</td>
</tr>
<tr class="odd">
<td align="left">magrittr</td>
<td align="left">2.0.3</td>
<td align="left">2022-03-30</td>
<td align="left">RSPM</td>
</tr>
<tr class="even">
<td align="left">openxlsx</td>
<td align="left">4.2.8</td>
<td align="left">2025-01-25</td>
<td align="left">RSPM</td>
</tr>
<tr class="odd">
<td align="left">pkgdown</td>
<td align="left">2.1.1</td>
<td align="left">2024-09-17</td>
<td align="left">RSPM</td>
</tr>
<tr class="even">
<td align="left">pointblank</td>
<td align="left">0.12.2</td>
<td align="left">2024-10-23</td>
<td align="left">RSPM</td>
</tr>
<tr class="odd">
<td align="left">purrr</td>
<td align="left">1.0.4</td>
<td align="left">2025-02-05</td>
<td align="left">RSPM</td>
</tr>
<tr class="even">
<td align="left">quarto</td>
<td align="left">1.4.4</td>
<td align="left">2024-07-20</td>
<td align="left">RSPM</td>
</tr>
<tr class="odd">
<td align="left">reactable</td>
<td align="left">0.4.4</td>
<td align="left">2023-03-12</td>
<td align="left">RSPM</td>
</tr>
<tr class="even">
<td align="left">readxl</td>
<td align="left">1.4.4</td>
<td align="left">2025-02-27</td>
<td align="left">RSPM</td>
</tr>
<tr class="odd">
<td align="left">renv</td>
<td align="left">1.1.0</td>
<td align="left">2025-01-29</td>
<td align="left">RSPM (R 4.4.0)</td>
</tr>
<tr class="even">
<td align="left">rlang</td>
<td align="left">1.1.5</td>
<td align="left">2025-01-17</td>
<td align="left">RSPM</td>
</tr>
<tr class="odd">
<td align="left">rmarkdown</td>
<td align="left">2.29</td>
<td align="left">2024-11-04</td>
<td align="left">RSPM</td>
</tr>
<tr class="even">
<td align="left">roxygen2</td>
<td align="left">7.3.2</td>
<td align="left">2024-06-28</td>
<td align="left">RSPM</td>
</tr>
<tr class="odd">
<td align="left">sessioninfo</td>
<td align="left">1.2.2</td>
<td align="left">2021-12-06</td>
<td align="left">CRAN (R 4.4.2)</td>
</tr>
<tr class="even">
<td align="left">sinew</td>
<td align="left">0.4.0</td>
<td align="left">2022-03-31</td>
<td align="left">RSPM</td>
</tr>
<tr class="odd">
<td align="left">spelling</td>
<td align="left">2.3.1</td>
<td align="left">2024-10-04</td>
<td align="left">RSPM</td>
</tr>
<tr class="even">
<td align="left">stringr</td>
<td align="left">1.5.1</td>
<td align="left">2023-11-14</td>
<td align="left">RSPM</td>
</tr>
<tr class="odd">
<td align="left">testthat</td>
<td align="left">3.2.3</td>
<td align="left">2025-01-13</td>
<td align="left">RSPM</td>
</tr>
<tr class="even">
<td align="left">tibble</td>
<td align="left">3.2.1</td>
<td align="left">2023-03-20</td>
<td align="left">RSPM</td>
</tr>
<tr class="odd">
<td align="left">tidyr</td>
<td align="left">1.3.1</td>
<td align="left">2024-01-24</td>
<td align="left">RSPM</td>
</tr>
<tr class="even">
<td align="left">usethis</td>
<td align="left">3.1.0</td>
<td align="left">2024-11-26</td>
<td align="left">RSPM</td>
</tr>
<tr class="odd">
<td align="left">vroom</td>
<td align="left">1.6.5</td>
<td align="left">2023-12-05</td>
<td align="left">RSPM</td>
</tr>
</tbody>
</table>
<p><a href="#top">Back to top</a></p>
</div>
<div class="section level2">
<h2 id="r-platform-information">R Platform Information<a class="anchor" aria-label="anchor" href="#r-platform-information"></a>
</h2>
<p>Here are the R platform environment used in this analysis.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">harmonisation</span><span class="fu">::</span><span class="fu"><a href="reference/get_r_platform_info.html">get_r_platform_info</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="50%">
<col width="50%">
</colgroup>
<thead><tr class="header">
<th align="left">setting</th>
<th align="left">value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">version</td>
<td align="left">R version 4.4.2 (2024-10-31 ucrt)</td>
</tr>
<tr class="even">
<td align="left">os</td>
<td align="left">Windows 11 x64 (build 26100)</td>
</tr>
<tr class="odd">
<td align="left">system</td>
<td align="left">x86_64, mingw32</td>
</tr>
<tr class="even">
<td align="left">ui</td>
<td align="left">RTerm</td>
</tr>
<tr class="odd">
<td align="left">language</td>
<td align="left">(EN)</td>
</tr>
<tr class="even">
<td align="left">collate</td>
<td align="left">English_Singapore.utf8</td>
</tr>
<tr class="odd">
<td align="left">ctype</td>
<td align="left">English_Singapore.utf8</td>
</tr>
<tr class="even">
<td align="left">tz</td>
<td align="left">Asia/Singapore</td>
</tr>
<tr class="odd">
<td align="left">date</td>
<td align="left">2025-03-12</td>
</tr>
<tr class="even">
<td align="left">pandoc</td>
<td align="left">3.2 @ C:/Program Files/RStudio/resources/app/bin/quarto/bin/tools/ (via rmarkdown)</td>
</tr>
<tr class="odd">
<td align="left">quarto</td>
<td align="left">1.6.37 @ C:/Program Files/Quarto/bin/quarto.exe/ (via quarto)</td>
</tr>
<tr class="even">
<td align="left">knitr</td>
<td align="left">1.49 from RSPM</td>
</tr>
</tbody>
</table>
<p><a href="#top">Back to top</a></p>
</div>
<div class="section level2">
<h2 id="description">DESCRIPTION<a class="anchor" aria-label="anchor" href="#description"></a>
</h2>
<p>The <code>DESCRIPTION</code> file contains important compendium metadata. Though <code>DESCRIPTION</code> file is specific to R package, it can be used to work with research compendia (see below). For further information on how to edit this file, please read <a href="https://r-pkgs.org/description.html" class="external-link uri">https://r-pkgs.org/description.html</a>.</p>
<p><a href="#top">Back to top</a></p>
</div>
<div class="section level2">
<h2 id="data-harmonisation">Data Harmonisation<a class="anchor" aria-label="anchor" href="#data-harmonisation"></a>
</h2>
<p>To start the harmonisation of data, run the R script <code>quarto_script.R</code> in <code>reports</code> folder.</p>
<p>For each cohort, the script will clean the raw data and create a Quarto book for each cohort in html, word and pdf.</p>
<p>This involves copying a specific <code>yml</code> file (<code>_quarto_{cohort name}.yml</code>) from the <code>quarto-yaml-template</code> folder to the project folder <code>harmonisation_template</code> and rename it as <code>_quarto.yml</code>, overwriting any existing <code>_quarto.yml</code> file. Using the <code>_quarto.yml</code> file. Quarto will then start running the Quarto scripts in the <code>reports/{cohort_name}_Cleaning</code> folder. This involves reading the raw data in the <code>data-raw/{cohort_name}</code> folder, placing preprocessing data in the <code>reports/{cohort_name}_Cleaning/preprocessed_data</code> folder, outputting the harmonised data as excel file called <code>cleaned_{cohort_name}.xlsx</code> in the <code>reports</code> folder. Also, the data harmonisation process documentation will be created in the <code>books/{cohort_name}</code> folder as a Quarto book in html, word and pdf.</p>
<p>After data harmonisation, data combining for all cohorts, data filtering and preliminary analysis will be done by copying <code>_quarto_Prelim.yml</code> file from the <code>quarto-yaml-template</code> folder to the project folder <code>harmonisation_template</code> and rename it as <code>_quarto.yml</code>, overwriting any existing <code>_quarto.yml</code> file. Using the <code>_quarto.yml</code> file, Quarto runs the Quarto scripts in the <code>reports/Combine</code> folder. Results will be outputted as excel files called <code>harmonised.xlsx</code>, <code>harmonised_batch1.xlsx</code>, <code>harmonised_batch2.xlsx</code> in the <code>reports</code> folder. In addition, the preliminary results will be created in the <code>books/Prelim</code> folder as a Quarto book in html, word and pdf.</p>
<p>After doing this for each cohort, the script will then create a combined data harmonisation process documentation (for all the cohorts) as a Quarto book in html. The specific <code>yml</code> file (<code>_quarto_all.yml</code>) in the <code>quarto-yaml-template</code> folder will be used and the documentation will be created in the <code>books/all</code> folder. Data combining for all cohorts, data filtering and preliminary analysis will also be done by running Quarto scripts in the <code>reports/Combine</code> folder.</p>
<p><a href="#top">Back to top</a></p>
</div>
<div class="section level2">
<h2 id="general-recommendations">General Recommendations<a class="anchor" aria-label="anchor" href="#general-recommendations"></a>
</h2>
<ul>
<li>Ensure the workspace is always in a blank state. Use <a href="https://usethis.r-lib.org/reference/use_blank_slate.html" class="external-link"><code>usethis::use_blank_slate(scope = c("user", "project"))</code></a> to create this setting.</li>
<li>Keep the root of the project as clean as possible</li>
<li>Store your raw data in <code>data-raw</code>
</li>
<li>Document raw data modifications. See <code>Flowchart.xlsx</code>.</li>
<li>Export modified raw data in <code>reports/{cohort_name}_Cleaning/preprocessed_data</code>
</li>
<li>Store only <strong>R functions</strong> in <code>R/</code>
</li>
<li>Store only <strong>R scripts</strong> and/or <strong>qmd</strong> in <code>reports/{cohort_name}_Cleaning</code>
</li>
<li>Built relative paths using <a href="https://here.r-lib.org/reference/here.html" class="external-link"><code>here::here()</code></a>
</li>
<li>Call external functions as <code>{package_name}::{function()}</code>
</li>
<li>Use <a href="https://devtools.r-lib.org/reference/document.html" class="external-link"><code>devtools::document()</code></a> to update the <code>NAMESPACE</code>
</li>
<li>Use <a href="https://frbcesab.github.io/rcompendium/reference/add_dependencies.html" class="external-link"><code>rcompendium::add_dependencies</code></a> to update the list of required dependencies in <code>DESCRIPTION</code>
</li>
<li>Do not source your functions but use instead <a href="https://devtools.r-lib.org/reference/load_all.html" class="external-link"><code>devtools::load_all()</code></a>. <a href="https://devtools.r-lib.org/reference/load_all.html" class="external-link"><code>devtools::load_all()</code></a> will load required dependencies listed in <code>DESCRIPTION</code> and R functions stored in <code>R/</code>
</li>
</ul>
<p><a href="#top">Back to top</a></p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/JauntyJJS/harmonisation/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/JauntyJJS/harmonisation/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing harmonisation</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Jeremy Selva <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-4498-2662" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jeremy Selva.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
